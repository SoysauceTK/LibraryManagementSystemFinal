<?xml version="1.0" encoding="utf-8"?>
<configuration>

	<!-- Allow unauthenticated access to specific GUI pages -->
	<location path="Presentation Layer/Public/Default.aspx">
		<system.web>
			<authorization>
				<allow users="*" />
			</authorization>
		</system.web>
	</location>

	<location path="Presentation Layer/Member/Login.aspx">
		<system.web>
			<authorization>
				<allow users="*" />
			</authorization>
		</system.web>
	</location>

	<location path="Presentation Layer/Member/Register.aspx">
		<system.web>
			<authorization>
				<allow users="*" />
			</authorization>
		</system.web>
	</location>

	<location path="Presentation Layer/Error.aspx">
		<system.web>
			<authorization>
				<allow users="*" />
			</authorization>
		</system.web>
	</location>

	<!-- Allow unauthenticated access to WCF service endpoints -->
	<location path="Service Layer/Book Storage Service/BookStorage.svc">
		<system.web>
			<authorization>
				<allow users="*" />
			</authorization>
		</system.web>
	</location>

	<location path="Service Layer/Book Search Service/SearchService.svc">
		<system.web>
			<authorization>
				<allow users="*" />
			</authorization>
		</system.web>
	</location>

	<!-- App Settings -->
	<appSettings>
		<add key="owin:AutomaticAppStartup" value="false" />
	</appSettings>

	<system.web>
		<compilation debug="true" targetFramework="4.7.2" />
		<httpRuntime targetFramework="4.7.2" />

		<authentication mode="Forms">
			<forms loginUrl="~/Presentation%20Layer/Member/Login.aspx"
				   defaultUrl="~/Presentation%20Layer/Public/Default.aspx"
				   timeout="30" />
		</authentication>

		<authorization>
			<deny users="?" />
		</authorization>
	</system.web>

	<system.webServer>
		<modules runAllManagedModulesForAllRequests="true" />
		<handlers>
			<add name=".svc" verb="*" path="*.svc"
				 type="System.ServiceModel.Activation.ServiceHttpHandlerFactory,
                 System.ServiceModel.Activation, Version=4.0.0.0,
                 Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
		</handlers>

		<defaultDocument enabled="true">
			<files>
				<clear />
				<add value="Presentation Layer/Public/Default.aspx" />
			</files>
		</defaultDocument>

		<directoryBrowse enabled="false" />
	</system.webServer>

	<system.serviceModel>
		<services>
			<service name="LibraryManagementSystem.Service_Layer.Book_Storage_Service.BookStorage">
				<endpoint address=""
						  binding="webHttpBinding"
						  contract="LibraryManagementSystem.Service_Layer.Book_Storage_Service.IBookStorage"
						  behaviorConfiguration="restBehavior" />
			</service>

			<service name="LibraryManagementSystem.Service_Layer.Book_Search_Service.SearchService">
				<endpoint address=""
						  binding="webHttpBinding"
						  contract="LibraryManagementSystem.Service_Layer.Book_Search_Service.ISearchService"
						  behaviorConfiguration="restBehavior" />
			</service>
		</services>

		<behaviors>
			<serviceBehaviors>
				<behavior>
					<serviceMetadata httpGetEnabled="true" httpsGetEnabled="true" />
					<serviceDebug includeExceptionDetailInFaults="true" />
				</behavior>
			</serviceBehaviors>
			<endpointBehaviors>
				<behavior name="restBehavior">
					<webHttp />
				</behavior>
			</endpointBehaviors>
		</behaviors>

		<serviceHostingEnvironment aspNetCompatibilityEnabled="true" multipleSiteBindingsEnabled="true" />
	</system.serviceModel>

	<system.codedom>
		<compilers>
			<compiler language="c#;cs;csharp"
					  extension=".cs"
					  warningLevel="4"
					  compilerOptions="/langversion:default /nowarn:1659;1699;1701;612;618"
					  type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
			<compiler language="vb;vbs;visualbasic;vbscript"
					  extension=".vb"
					  warningLevel="4"
					  compilerOptions="/langversion:default /nowarn:41008,40000,40008 /define:_MYTYPE=&quot;Web&quot; /optionInfer+"
					  type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
		</compilers>
	</system.codedom>

</configuration>
